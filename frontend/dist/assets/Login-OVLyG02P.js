import{_ as y,u as V,r as p,a as h,c as x,b as o,w as a,d as l,e as k,o as B,f as C,g as E,h as F,E as c}from"./index-BwUFaNKW.js";const L={class:"login-container"},N={__name:"Login",setup(R){const _=k(),f=V(),t=p(null),r=p(!1),s=h({username:"",password:""}),g={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]};async function d(){t.value&&await t.value.validate(async i=>{if(i){r.value=!0;const e=await f.login(s.username,s.password);r.value=!1,e.success?(c.success("登录成功"),_.push("/dashboard")):c.error(e.message||"登录失败")}})}return(i,e)=>{const m=l("el-input"),n=l("el-form-item"),w=l("el-button"),v=l("el-form"),b=l("el-card");return B(),x("div",L,[o(b,{class:"login-card"},{header:a(()=>[...e[2]||(e[2]=[F("h2",null,"学生实习信息管理系统",-1)])]),default:a(()=>[o(v,{ref_key:"loginFormRef",ref:t,model:s,rules:g,"label-width":"80px"},{default:a(()=>[o(n,{label:"用户名",prop:"username"},{default:a(()=>[o(m,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=u=>s.username=u),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),o(n,{label:"密码",prop:"password"},{default:a(()=>[o(m,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=u=>s.password=u),type:"password",placeholder:"请输入密码",onKeyup:C(d,["enter"])},null,8,["modelValue"])]),_:1}),o(n,null,{default:a(()=>[o(w,{type:"primary",loading:r.value,onClick:d,style:{width:"100%"}},{default:a(()=>[...e[3]||(e[3]=[E(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])}}},K=y(N,[["__scopeId","data-v-c768aaa7"]]);export{K as default};
