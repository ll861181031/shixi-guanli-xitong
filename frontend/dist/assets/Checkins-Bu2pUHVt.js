import{r as o,A as h,c as y,b as e,w as s,d as r,B as C,E as x,C as B,o as g,D,k as w,g as z,y as E,h as N}from"./index-BwUFaNKW.js";const V={class:"checkins"},S={__name:"Checkins",setup(M){const c=o(!1),u=o([]),p=o(1),i=o(10),d=o(0);async function _(){c.value=!0;try{const n=await C.get("/checkins",{params:{page:p.value,per_page:i.value}});n.data.success&&(u.value=n.data.data.items,d.value=n.data.data.total)}catch{x.error("获取签到记录失败")}finally{c.value=!1}}return h(()=>{_()}),(n,t)=>{const a=r("el-table-column"),m=r("el-tag"),v=r("el-table"),b=r("el-pagination"),f=r("el-card"),k=B("loading");return g(),y("div",V,[e(f,null,{header:s(()=>[...t[2]||(t[2]=[N("span",null,"签到管理",-1)])]),default:s(()=>[D((g(),w(v,{data:u.value,border:""},{default:s(()=>[e(a,{prop:"student_name",label:"学生姓名"}),e(a,{prop:"student_id_number",label:"学号"}),e(a,{prop:"position_title",label:"岗位标题"}),e(a,{prop:"checkin_date",label:"签到日期"}),e(a,{prop:"checkin_time",label:"签到时间"}),e(a,{prop:"distance",label:"距离(米)"}),e(a,{prop:"status",label:"状态"},{default:s(({row:l})=>[e(m,{type:l.status==="normal"?"success":"danger"},{default:s(()=>[z(E(l.status==="normal"?"正常":"异常"),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])),[[k,c.value]]),e(b,{"current-page":p.value,"onUpdate:currentPage":t[0]||(t[0]=l=>p.value=l),"page-size":i.value,"onUpdate:pageSize":t[1]||(t[1]=l=>i.value=l),total:d.value,layout:"total, prev, pager, next",onCurrentChange:_,style:{"margin-top":"20px"}},null,8,["current-page","page-size","total"])]),_:1})])}}};export{S as default};
