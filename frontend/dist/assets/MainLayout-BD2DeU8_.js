import{_ as z,u as D,i as p,j as I,k as r,w as t,d as a,e as E,o as i,b as e,h as o,l as c,m as s,n as F,p as G,q as H,s as J,t as K,v as O,x as y,y as g,g as b,z as P}from"./index-BwUFaNKW.js";const Q={class:"header-left"},U={class:"header-right"},W={class:"user-info"},X={__name:"MainLayout",setup(Y){const m=I(),h=E(),v=D(),f=p(()=>v.user),C=p(()=>{var u;return new Set(((u=f.value)==null?void 0:u.permissions)||[])}),S=p(()=>m.path),N=p(()=>m.meta.title||"仪表盘");function V(u){u==="logout"&&(v.logout(),h.push("/login"))}function _(u){var n,l;return((n=f.value)==null?void 0:n.role)==="admin"?!0:((l=f.value)==null?void 0:l.role)==="teacher"?C.value.has(u):!1}return(u,n)=>{const l=a("el-icon"),d=a("el-menu-item"),B=a("el-menu"),M=a("el-aside"),A=a("el-dropdown-item"),L=a("el-dropdown-menu"),R=a("el-dropdown"),T=a("el-header"),j=a("router-view"),q=a("el-main"),x=a("el-container");return i(),r(x,{class:"layout-container"},{default:t(()=>[e(M,{width:"200px",class:"sidebar"},{default:t(()=>[n[7]||(n[7]=o("div",{class:"logo"},[o("h2",null,"实习管理系统")],-1)),e(B,{"default-active":S.value,router:"",class:"sidebar-menu","background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409eff"},{default:t(()=>[e(d,{index:"/dashboard"},{default:t(()=>[e(l,null,{default:t(()=>[e(s(F))]),_:1}),n[0]||(n[0]=o("span",null,"仪表盘",-1))]),_:1}),_("positions")?(i(),r(d,{key:0,index:"/positions"},{default:t(()=>[e(l,null,{default:t(()=>[e(s(G))]),_:1}),n[1]||(n[1]=o("span",null,"岗位管理",-1))]),_:1})):c("",!0),_("applications")?(i(),r(d,{key:1,index:"/applications"},{default:t(()=>[e(l,null,{default:t(()=>[e(s(H))]),_:1}),n[2]||(n[2]=o("span",null,"申请管理",-1))]),_:1})):c("",!0),_("checkins")?(i(),r(d,{key:2,index:"/checkins"},{default:t(()=>[e(l,null,{default:t(()=>[e(s(J))]),_:1}),n[3]||(n[3]=o("span",null,"签到管理",-1))]),_:1})):c("",!0),_("reports")?(i(),r(d,{key:3,index:"/reports"},{default:t(()=>[e(l,null,{default:t(()=>[e(s(K))]),_:1}),n[4]||(n[4]=o("span",null,"周报管理",-1))]),_:1})):c("",!0),_("statistics")?(i(),r(d,{key:4,index:"/statistics"},{default:t(()=>[e(l,null,{default:t(()=>[e(s(O))]),_:1}),n[5]||(n[5]=o("span",null,"数据统计",-1))]),_:1})):c("",!0),_("users")?(i(),r(d,{key:5,index:"/users"},{default:t(()=>[e(l,null,{default:t(()=>[e(s(y))]),_:1}),n[6]||(n[6]=o("span",null,"用户管理",-1))]),_:1})):c("",!0)]),_:1},8,["default-active"])]),_:1}),e(x,null,{default:t(()=>[e(T,{class:"header"},{default:t(()=>[o("div",Q,[o("h3",null,g(N.value),1)]),o("div",U,[e(R,{onCommand:V},{dropdown:t(()=>[e(L,null,{default:t(()=>[e(A,{command:"logout"},{default:t(()=>[...n[8]||(n[8]=[b("退出登录",-1)])]),_:1})]),_:1})]),default:t(()=>{var w,k;return[o("span",W,[e(l,null,{default:t(()=>[e(s(y))]),_:1}),b(" "+g(((w=f.value)==null?void 0:w.real_name)||((k=f.value)==null?void 0:k.username))+" ",1),e(l,{class:"el-icon--right"},{default:t(()=>[e(s(P))]),_:1})])]}),_:1})])]),_:1}),e(q,{class:"main-content"},{default:t(()=>[e(j)]),_:1})]),_:1})]),_:1})}}},$=z(X,[["__scopeId","data-v-249556d1"]]);export{$ as default};
