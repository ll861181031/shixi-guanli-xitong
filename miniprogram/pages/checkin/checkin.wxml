<view class="container">
  <view wx:if="{{position}}" class="card">
    <view class="position-info">
      <view class="title">{{position.title}}</view>
      <view class="company">{{position.company_name}}</view>
      <view class="location">📍 {{position.location}}</view>
    </view>

    <view class="location-section">
      <button class="btn-primary" bindtap="getLocation">获取当前位置</button>
      
      <view wx:if="{{location}}" class="location-info">
        <view class="info-item">
          <text>当前位置：</text>
          <text>{{location.latitude.toFixed(6)}}, {{location.longitude.toFixed(6)}}</text>
        </view>
        <view class="info-item">
          <text>距离：</text>
          <text class="{{status === 'abnormal' ? 'danger' : status === 'warning' ? 'warning' : 'success'}}">
            {{distance}}米
          </text>
        </view>
        <view class="status-info">
          <text wx:if="{{status === 'normal'}}" class="success">✓ 距离正常，可以签到</text>
          <text wx:elif="{{status === 'warning'}}" class="warning">⚠ 距离较远，请确认位置</text>
          <text wx:else class="danger">✗ 距离过远，签到将标记为异常</text>
        </view>
      </view>
    </view>

    <button class="btn-primary submit-btn" bindtap="submitCheckin" disabled="{{!location}}">
      提交签到
    </button>
  </view>
</view>

